import{r as s,j as e,C as g,O as m,A as v,k as x,c as j,F as b}from"./vendor-f7cc1bad.js";import{V as d}from"./three-vendor-1ac9e373.js";import{u as y,L as E}from"./index-ab3d9882.js";import"./motion-vendor-5d707dde.js";const R=({visible:a=!0})=>{const c=x("./planet/scene.gltf"),r=s.useRef(null),t=s.useRef(.25),i=s.useRef(new d(0,0,0)),o=2.5;return j(({clock:l})=>{const n=r.current;if(!n)return;const f=a?1:.05,u=.08;t.current+=(f-t.current)*u,n.scale.setScalar(o*t.current);const p=l.getElapsedTime();n.rotation.y=p*.12;const h=a?0:-1;n.position.y+=(h-n.position.y)*.12}),s.useEffect(()=>{r.current&&(r.current.position.copy(i.current).add(new d(0,-1,0)),r.current.scale.setScalar(o*t.current))},[]),e.jsx(b,{speed:1.25,rotationIntensity:.1,floatIntensity:.12,floatingRange:[0,.05],children:e.jsx("group",{ref:r,children:e.jsx("primitive",{object:c.scene,position:[0,0,0],"rotation-y":0})})})},P=({sectionIndex:a=6})=>{const[c,r]=s.useState(!1),t=s.useRef(null),{suspendAboveOf:i,exclusiveSection:o}=y(),l=o!==null&&a!==o,n=i!==null&&a<i,f=l||n;return s.useEffect(()=>{const u=new IntersectionObserver(([p])=>{r(p.isIntersecting)},{threshold:.1});return t.current&&u.observe(t.current),()=>{t.current&&u.unobserve(t.current)}},[]),f?e.jsx("div",{style:{width:"100%",height:"100%"}}):e.jsx("div",{ref:t,style:{width:"100%",height:"100%"},children:c&&e.jsxs(g,{shadows:!0,frameloop:"demand",dpr:[1,1.25],gl:{preserveDrawingBuffer:!1,antialias:!1,powerPreference:"high-performance"},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:[e.jsxs(s.Suspense,{fallback:e.jsx(E,{}),children:[e.jsx(m,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),e.jsx(R,{visible:c})]}),e.jsx(v,{pixelated:!0})]})})};export{P as default};
