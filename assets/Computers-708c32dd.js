import{r as a,j as t}from"./vendor-fb7f6338.js";import{C as y,O as v,A as w,P as b,i as L,e as C}from"./three-vendor-902aeffa.js";import{u as S,L as E}from"./index-e16c285e.js";import"./motion-vendor-39a46c8a.js";const R=({isMobile:s,visible:o=!0})=>{const i=L("./desktop_pc/scene.gltf"),e=a.useRef();return C(({clock:l})=>{if(!e.current)return;const p=l.getElapsedTime(),d=.08*Math.sin(p*.6),r=.08,n=o?s?1.5:2.4:.2;e.current.scale.x+=(n-e.current.scale.x)*r,e.current.scale.y+=(n-e.current.scale.y)*r,e.current.scale.z+=(n-e.current.scale.z)*r;const u=o?-2:4;e.current.position.y+=(u-e.current.position.y)*r;const m=.02,f=o?-.2+d:-1;e.current.rotation.x+=(m-e.current.rotation.x)*r,e.current.rotation.y+=(f-e.current.rotation.y)*r,e.current.rotation.z+=(0-e.current.rotation.z)*r}),t.jsxs("mesh",{children:[t.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),t.jsx("pointLight",{intensity:.1}),t.jsx("spotLight",{position:[-10,50,10],angle:.12,penumbra:1,intensity:.1,castShadow:!0,"shadow-mapSize":512}),t.jsx("group",{ref:e,scale:[s?.375:.6,s?.375:.6,s?.375:.6],position:s?[-.1,-3,-1.5]:[1,-3,-1.5],rotation:[.02,-.8,0],children:t.jsx("primitive",{object:i.scene})})]})},B=({active:s=!0,sectionIndex:o=0})=>{const{suspendAboveOf:i,exclusiveSection:e}=S(),[l,p]=a.useState(!1);a.useEffect(()=>{const x=window.matchMedia("(max-width: 820px)");p(x.matches);const g=j=>{p(j.matches)};return x.addEventListener("change",g),()=>{x.removeEventListener("change",g)}},[]);const d=e!==null&&o!==e,r=i!==null&&o<i,n=d||r,[u,m]=a.useState(!n&&s),[f,h]=a.useState(!n&&s),c=a.useRef();return a.useEffect(()=>{if(n||!s){u&&(h(!1),clearTimeout(c.current),c.current=setTimeout(()=>m(!1),600));return}return u?h(!0):(m(!0),clearTimeout(c.current),c.current=setTimeout(()=>h(!0),50)),()=>clearTimeout(c.current)},[n,s,u]),u?t.jsxs(y,{frameloop:"always",shadows:!0,dpr:[1,1.25],camera:l?{position:[0,20,5],fov:26}:{position:[9,17,5],fov:26},gl:{preserveDrawingBuffer:!1,antialias:!1,powerPreference:"high-performance"},children:[t.jsxs(a.Suspense,{fallback:t.jsx(E,{}),children:[t.jsx(v,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),t.jsx(R,{isMobile:l,visible:f})]}),t.jsx(w,{pixelated:!0}),t.jsx(b,{all:!0})]}):t.jsx("div",{className:"w-full h-full bg-transparent"})};export{B as default};
